[[Инструкции препроцессора]]

==Директивы следует применять только в коде модулей управляемых форм и в коде модулей команд. В остальных модулях рекомендуется применять инструкции препроцессору.==
Это новшество реализовано <span style="color:rgb(255, 0, 0)">только в управляемом приложении</span>. Использование директив в обычном приложении недоступно. В обычном приложении нет разделения программирования для клиента и сервера. В управляемом приложении перед функциями, процедурами и глобальными переменными можно явно указать где выполнять код (на сервере или на клиенте).  

Инструкции препроцессора и директивы компиляции предназначены для того, ==чтобы оставить в скомпилированном модуле только то==, что действительно ==должно присутствовать в том или ином контексте.== При этом и<span style="color:rgb(255, 0, 0)">нструкции препроцессора</span> действуют на <span style="color:rgb(255, 0, 0)">исходный текст модуля</span> (т. е. удаляют из модуля текст, который не может там находится), а <span style="color:rgb(255, 0, 0)">директивы компиляции</span> действуют на <span style="color:rgb(255, 0, 0)">структурные единицы</span> программного кода (метод, процедуры или функции, а также объявления переменных<span style="color:rgb(255, 0, 0)">).</span> 
  
**&НаКлиенте** - определяет клиентскую процедуру (функцию).  мф мк ом
**&НаСервере** - определяет серверную процедуру (функцию) с контекстом.  мф мк ом
**&НаСервереБезКонтекста** - определяет серверную процедуру (функцию) без контекста.  мф
**&НаКлиентеНаСервереБезКонтекста** - определяет процедуру (функцию), исполняемую в модуле формы на клиенте и на сервере.  мф
**&НаКлиентеНаСервере** определяет процедуру (функцию), исполняемую в модуле команды, выполняемую на клиенте и на сервере. мк

**_Без контекста_ - это означает без доступа к данным формы.**

Директивы «Перед», «После» и «ИзменениеИКонтроль» в системе 1С служат для разных целей при доработке модулей:

1. **«Перед»** и **«После»** позволяют менять выполнение типового кода. Если в расширяющем модуле созданы методы, отмеченные этими аннотациями, то сначала будет вызван метод, отмеченный «Перед», затем расширяемый метод и после него — метод расширения, отмеченный «После». [career.i-neti.ru](https://career.i-neti.ru/rasshireniya-konfiguratsii-1s-nyuansy-i-keysy-chast-2/)[infostart.ru](https://infostart.ru/1c/articles/1682987/)
2. **«ИзменениеИКонтроль»** позволяет вносить небольшие изменения в метод, сохраняя при этом его исходный текст. С помощью этой аннотации можно менять отдельные строки в процедуре без полной замены. Платформа будет отслеживать изменения исходного кода и оповещать при необходимости анализа дополнений. [wonderland.v8.1c.ru](https://wonderland.v8.1c.ru/blog/razvitie-mekhanizma-rasshireniy-konfiguratsii-15/)[dzen.ru](https://dzen.ru/a/ZzrZvkbis0TwDZSK)

Таким образом, **«Перед»** и **«После»** — основные инструменты для расширения типовых конфигураций, а **«ИзменениеИКонтроль»** используют, когда «Перед» и «После» не позволяют достичь желаемого результата