

**Передача таблицы значений с сервера на клиент** зависит от платформы и типа клиента (тонкий или толстый). В некоторых системах (например, 1С) есть специальные механизмы для передачи данных, в других — промежуточные преобразования. [dzen.ru](https://dzen.ru/a/Z7zdSGIFk2rH-B9h)[bolshoyvopros.ru](https://www.bolshoyvopros.ru/questions/4399451-kak-peredat-tablicu-znachenij-s-servera-na-klient-1s.html)
### В 1С
**Некоторые способы передачи таблицы значений с сервера на клиент в 1С**:
- **Использование реквизита формы типа «Таблица значений»**. На сервере создают реквизит формы типа «Таблица значений» и заполняют его данными, которые нужно передать на клиент. На клиенте получают доступ к реквизиту формы, содержащему таблицу значений, и используют данные из этого реквизита для отображения или обработки на клиенте.
- **Преобразование таблицы значений в массив структур**. На сервере таблицу значений преобразуют в массив структур, где каждая структура соответствует одной строке таблицы. На клиенте получают массив структур, содержащий данные таблицы значений, и используют их для отображения или обработки на клиенте.
- **Использование временного хранилища**. На сервере таблицу значений помещают во временное хранилище с помощью метода 
    ПоместитьВоВременноеХранилище()
    . На клиенте таблицу значений получают из временного хранилища с помощью метода 
    ПолучитьИзВременногоХранилища()
 [dzen.ru](https://dzen.ru/a/Z7zdSGIFk2rH-B9h)

**Рекомендации**:
- Для больших объёмов данных рекомендуется использовать реквизит формы типа «Таблица значений» или механизм сериализации.
- Для небольших объёмов данных можно использовать преобразование в массив структур или временное хранилище.
- В тонком клиенте не все типы данных могут быть переданы напрямую с сервера на клиент — в этом случае необходимо использовать промежуточное преобразование данных.

**Несколько способов передать таблицу значений с сервера на клиент в 1С 8.3:**

1. **Через процедуру «ОбщееНазначение»**. [koder.by](https://koder.by/peredacha_tablicy_znachenij_s_servera_na_klient.php)[bolshoyvopros.ru](https://www.bolshoyvopros.ru/questions/4399451-kak-peredat-tablicu-znachenij-s-servera-na-klient-1s.html) Пример кода: [koder.by](https://koder.by/peredacha_tablicy_znachenij_s_servera_na_klient.php)
`Процедура ПередатьТаблицуЗначенийНаКлиент(Элемент)   Экспорт ОбщегоНазначения.ТаблицаЗначенийВМассив(ТаблицаЗначений); КонецПроцедуры`
2. **Через временное хранилище**. [koder.by](https://koder.by/peredacha_tablicy_znachenij_s_servera_na_klient.php)[bolshoyvopros.ru](https://www.bolshoyvopros.ru/questions/4399451-kak-peredat-tablicu-znachenij-s-servera-na-klient-1s.html) Пример кода: [koder.by](https://koder.by/peredacha_tablicy_znachenij_s_servera_na_klient.php)
`Процедура ПередатьТаблицуЗначенийНаКлиент(ТаблицаЗначений)   Экспорт     АдресХранилищаСТЗ = ПоместитьВоВременноеХранилище(ТаблицаЗначений,ЭтаФорма.УникальныйИдентификатор);     ПереносТЗ = ПолучитьИзВременногоХранилища(АдресХранилищаСТЗ); КонецПроцедуры`
3. **Через значения «ВСтрокуВнутри» и «ИзСтрокиВнутри»**. Пример кода: [bolshoyvopros.ru](https://www.bolshoyvopros.ru/questions/4399451-kak-peredat-tablicu-znachenij-s-servera-na-klient-1s.html)
`&НаКлиенте Процедура ПолучитьТаблицуНаСервере(Команда)   ТЗ_Стр = ПолучитьТЗНаСервере();   // Получаем данные на сервере   ТаблицаЗначений = ЗначениеИзСтрокиВнутр(ТЗ_Стр); КонецПроцедуры  &НаСервере Функция ПолучитьТЗНаСервере(ТЗ)   Возврат ЗначениеВСтрокуВнутр(ТЗ); КонецФункции`
4. **Через реквизит формы**. [koder.by](https://koder.by/peredacha_tablicy_znachenij_s_servera_na_klient.php)[bolshoyvopros.ru](https://www.bolshoyvopros.ru/questions/4399451-kak-peredat-tablicu-znachenij-s-servera-na-klient-1s.html) Для начала необходимо добавить в форму новый реквизит с типом «ТаблицаЗначений» и именем «ТаблицаЗначенийФормы». На сервере пишется код, который после выполнения обновит таблицу значений на клиенте 1С. [koderline.ru](https://www.koderline.ru/expert/instruktsii/article-peredacha-tablitsy-znacheniy-na-klient-1s/)

## Функция преобразует ТаблицуЗначений в Массив из структур.
```
// Функция преобразует ТаблицуЗначений в Массив из структур.
//
Функция ПреобразоватьТаблицуЗначенийВМассив(тзДанные) Экспорт
    
    мсДанные = Новый Массив;
        
    // Запишем в массив
    Для Каждого СтрокаТЗ Из тзДанные Цикл
        
        стСтрокаТаблицы = Новый Структура;
        Для Каждого ИмяКолонки Из тзДанные.Колонки Цикл
            стСтрокаТаблицы.Вставить(ИмяКолонки.Имя, СтрокаТЗ[ИмяКолонки.Имя]);
        КонецЦикла;
        
        мсДанные.Добавить(стСтрокаТаблицы);
        
    КонецЦикла;
    
    Возврат мсДанные;
    
КонецФункции // ПреобразоватьТаблицуЗначенийВМассив()

// Функция преобразует Массив из структур в ТаблицуЗначений.
//
Функция ПреобразоватьМассивВТаблицуЗначений(мсДанные) Экспорт
    
    тзДанные = Новый ТаблицаЗначений;
    
    Для Каждого ЭлементМассива Из мсДанные Цикл
        // Рисуем колонки для таблицы
        Если тзДанные.Колонки.Количество() = 0 Тогда
            Для Каждого ЗначениеСтруктуры Из ЭлементМассива Цикл
                тзДанные.Колонки.Добавить(ЗначениеСтруктуры.Ключ);
            КонецЦикла;
        КонецЕсли;
        
        // Добавляем данные в таблицу
        НоваяСтрока = тзДанные.Добавить();
        Для Каждого ЗначениеСтруктуры Из ЭлементМассива Цикл
            НоваяСтрока[ЗначениеСтруктуры.Ключ] = ЗначениеСтруктуры.Значение;
        КонецЦикла;
    КонецЦикла;
    
    Возврат тзДанные;
    
КонецФункции // ПреобразоватьМассивВТаблицуЗначений()
```